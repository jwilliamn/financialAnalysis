setwd('/home/williamn/Repository/financialAnalysis/peru')
listFiles <- list.files("data", full.names = TRUE)
check <- data.frame()
for(i in 1:80){
tmp<- read.csv(listFiles[i])
check <- rbind(check, c(i, dim(tmp)[1], dim(tmp)[2]))
}
check$X176L <- factor(check$X176L)
check
check$X28L <- factor(check$X28L)
str(check)
f25 <- check[check$X28L == 25,]
f26 <- check[check$X28L == 26,]
f28 <- check[check$X28L == 28,]
f25
m <- 1
n <- 1
p <- 1
for(i in 1:80){
input <- data.frame()
name <- listFiles[i]
tmp <- read.csv(listFiles[i])
# 127
if(i == f25[m, 1] && m<dim(f25)[1]+1){
input <- cbind.data.frame(tmp$year, tmp$V2, tmp$V3, tmp$V4, tmp$V12, tmp$V1, tmp$V20,
tmp$V27, tmp$V28, tmp$V38, tmp$V39, tmp$V41 + tmp$V42 +
tmp$V43, tmp$V44, tmp$V51, tmp$V54, tmp$V61, tmp$V80,
tmp$V1, tmp$V94, tmp$V107, tmp$V110, tmp$V112, tmp$V117)
colnames(input) <- c("year", "V2", "V3", "V5", "V7", "V10", "V19", "V26",
"V27", "V34", "V35", "Cppcp", "V37", "V47",
"Cpplp", "V57", "V71", "V72", "V73",
"V79", "V85", "V86", "V91")
m <- m+1
}
# f176
if(i == f28[n, 1] && n<dim(f28)[1]+1){
input <- cbind.data.frame(tmp$year, tmp$V2, tmp$V3, tmp$V5, tmp$V7, tmp$V10, tmp$V19,
tmp$V26, tmp$V27, tmp$V34, tmp$V35, tmp$V38 + tmp$V39 +
tmp$V40, tmp$V37, tmp$V47, tmp$V48 + tmp$V49 + tmp$V50 +
tmp$V51, tmp$V57, tmp$V71, tmp$V72, tmp$V73, tmp$V79,
tmp$V85, tmp$V86, tmp$V91)
colnames(input) <- c("year", "V2", "V3", "V5", "V7", "V10", "V19", "V26",
"V27", "V34", "V35", "Cppcp", "V37", "V47",
"Cpplp", "V57", "V71", "V72", "V73",
"V79", "V85", "V86", "V91")
n <- n+1
}
# f262
if(i == f26[p, 1] && p<dim(f26)[1]+1){
input <- cbind.data.frame(year, tmp$V2, tmp$V3, tmp$V4, tmp$V31, tmp$V1, tmp$V14,
tmp$V48, tmp$V49, tmp$V60, tmp$V61, tmp$V81, tmp$V75,
tmp$V86, tmp$V87 + tmp$V88 + tmp$V89 + tmp$V90, tmp$V106,
tmp$V132, tmp$V1, tmp$V1, tmp$V202, tmp$V210, tmp$V212,
tmp$V213)
colnames(input) <- c("year", "V2", "V3", "V5", "V7", "V10", "V19", "V26",
"V27", "V34", "V35", "Cppcp", "V37", "V47", "Cpplp",
"V57", "V71", "V72", "V73", "V79", "V85", "V86",
"V91")
p <- p+1
}
write.table(input, file = name, sep = ",", quote = F, row.names = F)
}
f26
f25
1+NA
View(tmp)
